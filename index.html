<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>Home - Documentation</title>

    <script src="scripts/prettify/prettify.js"></script>
    <script src="scripts/prettify/lang-css.js"></script>
    <!--[if lt IE 9]>
      <script src="//html5shiv.googlecode.com/svn/trunk/html5.js"></script>
    <![endif]-->
    <link type="text/css" rel="stylesheet" href="https://code.ionicframework.com/ionicons/2.0.1/css/ionicons.min.css">
    <link type="text/css" rel="stylesheet" href="styles/prettify-tomorrow.css">
    <link type="text/css" rel="stylesheet" href="styles/jsdoc-default.css">
</head>
<body>

<input type="checkbox" id="nav-trigger" class="nav-trigger" />
<label for="nav-trigger" class="navicon-button x">
  <div class="navicon"></div>
</label>

<label for="nav-trigger" class="overlay"></label>

<nav>
    <li class="nav-link nav-home-link"><a href="index.html">Home</a></li><li class="nav-heading">Classes</li><li class="nav-heading"><span class="nav-item-type type-class">C</span><span class="nav-item-name"><a href="action._makeAction.Action.html">Action</a></span></li><li class="nav-item"><span class="nav-item-type type-function">F</span><span class="nav-item-name"><a href="action._makeAction.Action.html#.Action.clone">Action.clone</a></span></li><li class="nav-item"><span class="nav-item-type type-function">F</span><span class="nav-item-name"><a href="action._makeAction.Action.html#.Action.getEntityId">Action.getEntityId</a></span></li><li class="nav-item"><span class="nav-item-type type-function">F</span><span class="nav-item-name"><a href="action._makeAction.Action.html#.Action.getEntityName">Action.getEntityName</a></span></li><li class="nav-item"><span class="nav-item-type type-function">F</span><span class="nav-item-name"><a href="action._makeAction.Action.html#.Action.getSchema">Action.getSchema</a></span></li><li class="nav-item"><span class="nav-item-type type-function">F</span><span class="nav-item-name"><a href="action._makeAction.Action.html#.Action.withName">Action.withName</a></span></li><li class="nav-item"><span class="nav-item-type type-function">F</span><span class="nav-item-name"><a href="action._makeAction.Action.html#.Action.withPrefix">Action.withPrefix</a></span></li><li class="nav-heading">Namespaces</li><li class="nav-heading"><span class="nav-item-type type-namespace">N</span><span class="nav-item-name"><a href="action.html">action</a></span></li><li class="nav-item"><span class="nav-item-type type-function">F</span><span class="nav-item-name"><a href="action.html#._makeAction">_makeAction</a></span></li><li class="nav-item"><span class="nav-item-type type-function">F</span><span class="nav-item-name"><a href="action.html#._makeActionHandler">_makeActionHandler</a></span></li><li class="nav-item"><span class="nav-item-type type-function">F</span><span class="nav-item-name"><a href="action.html#._makeActionUniqId">_makeActionUniqId</a></span></li><li class="nav-item"><span class="nav-item-type type-function">F</span><span class="nav-item-name"><a href="action.html#.exports.createAction">exports.createAction</a></span></li><li class="nav-heading"><span class="nav-item-type type-namespace">N</span><span class="nav-item-name"><a href="config.html">config</a></span></li><li class="nav-item"><span class="nav-item-type type-function">F</span><span class="nav-item-name"><a href="config.html#.exports.setDefaultResponseMapper">exports.setDefaultResponseMapper</a></span></li><li class="nav-heading"><span class="nav-item-type type-namespace">N</span><span class="nav-item-name"><a href="helper.html">helper</a></span></li><li class="nav-item"><span class="nav-item-type type-function">F</span><span class="nav-item-name"><a href="helper.html#._defaultResponseMapper">_defaultResponseMapper</a></span></li><li class="nav-heading"><span class="nav-item-type type-namespace">N</span><span class="nav-item-name"><a href="reducer.html">reducer</a></span></li><li class="nav-item"><span class="nav-item-type type-function">F</span><span class="nav-item-name"><a href="reducer.html#.exports.createReducers">exports.createReducers</a></span></li><li class="nav-heading"><span class="nav-item-type type-namespace">N</span><span class="nav-item-name"><a href="selector.html">selector</a></span></li>
</nav>

<div id="main">
    

    



    









    


    <section class="readme">
        <article><h1>Redux tide</h1><p>Simple library for redux-normalized state and actions/selectors for it</p>
<h3>Examples</h3><p><a href="https://edtoken.github.io/redux-tide-basic-usage/">example</a> - using with axios and REST api</p>
<h3>Future features</h3><ul>
<li>Create documentation</li>
<li>Refactor code</li>
</ul>
<h3>4 Steps for using redux-tide</h3><ol>
<li>your project must have: <a href="https://github.com/paularmstrong/normalizr">normalizr</a>, <a href="https://redux.js.org/">redux</a>, <a href="https://github.com/reactjs/react-redux">react-redux</a>, <a href="https://github.com/gaearon/redux-thunk">redux-thunk</a></li>
<li><code>npm install redux-tide --save</code></li>
<li><pre class="prettyprint source"><code> // schema.js
 import {schema} from 'normalizr'

 const postsSchema = new schema.Entity('posts')
 const commentsSchema = new schema.Entity('comments')

 postsSchema.define({
   comments: [commentsSchema]
 })
 commentsSchema.define({
   post: commentsSchema
 })

 export const appSchema = {
   commentsSchema,
   postsSchema
 }</code></pre></li>
<li><pre class="prettyprint source"><code> // store.js
 import {denormalize} from 'normalizr';
 import {createReducers, setDefaultResponseMapper, setDenormalize} from 'redux-tide';
 import {appSchema} from './store'

 // required
 setDenormalize(denormalize)

 // not required
 setDefaultResponseMapper((resp) => {
   // your response
   return resp.data
 })

 // your store
 export default createStore(
   combineReducers({
     // your reducers
     ...createReducers(...appSchema)
   }),
   initialState,
   composedEnhancers
 )</code></pre></li>
<li><p>READY! You can create actions und use it</p>
</li>
</ol>
<h3>Create actions and get data</h3><pre class="prettyprint source"><code>const get = (url) => {// returns Promise ajax call}

const getUserAction = createAction(user, get, 'user')
// calling url 'user'

const getUserAction = createAction(user, () => {
 return new Promise((resolve, reject) => {
   // cookie|local storage|other get data
   resolve({
     //data
   })
 })
})

const getUserAction = createAction(user, get, (userId) => `user/${userId}`)
// calling url 'user/${userId}'

const getUserAction = createAction(user, get, (userId) => [
 `user/${userId}`,
 undefined,
 {name, phone, email}
])
// calling url 'user/${userId}' and post data (if you are using axios) {name, phone, email}

// you can pass multi level functions or promises (args) => (dispatch, getState) => (dispatch, getState) => (dispatch, getState) => ...
const getUserAction = createAction(user, get, (userId) => {
 return (dispatch, getState)=>{
   return new Promise((resolve) => {resolve(`user/${userId}`)})
 }
})
// calling url 'user/${userId}'

const getUserAction = createAction(user, get, 'user', (resp) => {resp.data})
// calling url 'user' but replace backend success response to resp.data


// using with multiple entity ids
const getUserByIdAction = createAction(user, get, userId => `users/${userId}`)


class UserComponent extends Component {
}

const UserContainer = connect(
    (state)=>({
        userData: getActionData(getUserByIdAction.withPrefix(userId))(state, props)
    }),
    (dispatch)=>({
        getUser:(userId) => (dispatch(getUserByIdAction.withPrefix(userId)(userId))
    })
)(UserComponent)

// calling url 'user' but replace backend success response to resp.data</code></pre><h3>CreateAction result public methods</h3><pre class="prettyprint source"><code>  /**
   * @type {Function}
   * @returns {Function} - returns action id
   */
  Action.type = Action.actionId = Action.toString = Action.valueOf = () => {
    return actionId
  }

  /**
   * @param {Object} item - source entity data
   *
   * @type {Function}
   * @returns {Function} - returns id from source
   */
  Action.getEntityId = item => {
    return scheme.getId(item)
  }

  /**
   * @type {Function}
   * @returns {Function} - returns entity uniq name (id)
   */
  Action.getEntityName = () => {
    return scheme.key
  }

  /**
   * @type {Function}
   * @returns {Action} - returns some action with new uniq id
   */
  Action.clone = () => {
    return createAction(scheme, actionMethod, queryBuilder, responseMapper)
  }

  /**
   * @type {Function}
   * @returns {Action} - returns some action with prefix-id
   */
  Action.withPrefix = (...prefix) => {
    return _makeWithId(prefix.join('-'))
  }

  /**
   * @type {Function}
   * @returns {Action} - returns some action with name-id (see prefix)
   */
  Action.withName = name => {
    return _makeWithId(name)
  }</code></pre><h3>Selector properties</h3><pre class="prettyprint source"><code>{String} status - pending|success|error
{Number} time - timestamp of action
{Boolean} hasError - has error or not
{String} errorText - text of error
{Boolean} isFetching - status === 'pending'
{Object|Array} payload - response for current action
{Object|Array} prevPayload - previous response</code></pre></article>
    </section>






</div>

<br class="clear">

<footer>
    Generated by <a href="https://github.com/jsdoc3/jsdoc">JSDoc 3.5.5</a> on Tue Nov 21 2017 19:51:05 GMT+0300 (MSK) using the Minami theme.
</footer>

<script>prettyPrint();</script>
<script src="scripts/linenumber.js"></script>
</body>
</html>